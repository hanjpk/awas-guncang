final List<Map<String, double>> iasp91VsTable = [
  {"depth": 0.0, "vs": 3.36},
  {"depth": 1.0, "vs": 3.36},
  {"depth": 2.0, "vs": 3.36},
  {"depth": 3.0, "vs": 3.36},
  {"depth": 4.0, "vs": 3.36},
  {"depth": 5.0, "vs": 3.36},
  {"depth": 6.0, "vs": 3.36},
  {"depth": 7.0, "vs": 3.36},
  {"depth": 8.0, "vs": 3.36},
  {"depth": 9.0, "vs": 3.36},
  {"depth": 10.0, "vs": 3.36},
  {"depth": 11.0, "vs": 3.36},
  {"depth": 12.0, "vs": 3.36},
  {"depth": 13.0, "vs": 3.36},
  {"depth": 14.0, "vs": 3.36},
  {"depth": 15.0, "vs": 3.36},
  {"depth": 16.0, "vs": 3.36},
  {"depth": 17.0, "vs": 3.36},
  {"depth": 18.0, "vs": 3.36},
  {"depth": 19.0, "vs": 3.36},
  {"depth": 20.0, "vs": 3.36},
  {"depth": 20.0, "vs": 3.75},
  {"depth": 21.0, "vs": 3.75},
  {"depth": 22.0, "vs": 3.75},
  {"depth": 23.0, "vs": 3.75},
  {"depth": 24.0, "vs": 3.75},
  {"depth": 25.0, "vs": 3.75},
  {"depth": 26.0, "vs": 3.75},
  {"depth": 27.0, "vs": 3.75},
  {"depth": 28.0, "vs": 3.75},
  {"depth": 29.0, "vs": 3.75},
  {"depth": 30.0, "vs": 3.75},
  {"depth": 31.0, "vs": 3.75},
  {"depth": 32.0, "vs": 3.75},
  {"depth": 33.0, "vs": 3.75},
  {"depth": 34.0, "vs": 3.75},
  {"depth": 35.0, "vs": 3.75},
  {"depth": 35.0, "vs": 4.47},
  {"depth": 40.0, "vs": 4.4718},
  {"depth": 45.0, "vs": 4.4735},
  {"depth": 50.0, "vs": 4.4753},
  {"depth": 60.0, "vs": 4.4788},
  {"depth": 70.0, "vs": 4.4824},
  {"depth": 80.0, "vs": 4.4859},
  {"depth": 90.0, "vs": 4.4894},
  {"depth": 100.0, "vs": 4.4929},
  {"depth": 110.0, "vs": 4.4965},
  {"depth": 120.0, "vs": 4.5},
  {"depth": 120.0, "vs": 4.5},
  {"depth": 130.0, "vs": 4.502},
  {"depth": 140.0, "vs": 4.504},
  {"depth": 150.0, "vs": 4.506},
  {"depth": 160.0, "vs": 4.508},
  {"depth": 170.0, "vs": 4.51},
  {"depth": 180.0, "vs": 4.512},
  {"depth": 190.0, "vs": 4.514},
  {"depth": 200.0, "vs": 4.516},
  {"depth": 210.0, "vs": 4.518},
  {"depth": 210.0, "vs": 4.522},
  {"depth": 220.0, "vs": 4.5394},
  {"depth": 230.0, "vs": 4.5568},
  {"depth": 240.0, "vs": 4.5742},
  {"depth": 250.0, "vs": 4.5916},
  {"depth": 260.0, "vs": 4.609},
  {"depth": 270.0, "vs": 4.6264},
  {"depth": 280.0, "vs": 4.6438},
  {"depth": 290.0, "vs": 4.6612},
  {"depth": 300.0, "vs": 4.6786},
  {"depth": 310.0, "vs": 4.696},
  {"depth": 320.0, "vs": 4.7134},
  {"depth": 330.0, "vs": 4.7308},
  {"depth": 340.0, "vs": 4.7482},
  {"depth": 350.0, "vs": 4.7656},
  {"depth": 360.0, "vs": 4.783},
  {"depth": 370.0, "vs": 4.8004},
  {"depth": 380.0, "vs": 4.8178},
  {"depth": 390.0, "vs": 4.8352},
  {"depth": 400.0, "vs": 4.8526},
  {"depth": 410.0, "vs": 4.87},
  {"depth": 410.0, "vs": 5.07},
  {"depth": 420.0, "vs": 5.0912},
  {"depth": 430.0, "vs": 5.1124},
  {"depth": 440.0, "vs": 5.1336},
  {"depth": 450.0, "vs": 5.1548},
  {"depth": 460.0, "vs": 5.176},
  {"depth": 470.0, "vs": 5.1972},
  {"depth": 480.0, "vs": 5.2184},
  {"depth": 490.0, "vs": 5.2396},
  {"depth": 500.0, "vs": 5.2608},
  {"depth": 510.0, "vs": 5.282},
  {"depth": 520.0, "vs": 5.3032},
  {"depth": 530.0, "vs": 5.3244},
  {"depth": 540.0, "vs": 5.3456},
  {"depth": 550.0, "vs": 5.3668},
  {"depth": 560.0, "vs": 5.388},
  {"depth": 570.0, "vs": 5.4092},
  {"depth": 580.0, "vs": 5.4304},
  {"depth": 590.0, "vs": 5.4516},
  {"depth": 600.0, "vs": 5.4728},
  {"depth": 610.0, "vs": 5.494},
  {"depth": 620.0, "vs": 5.5152},
  {"depth": 630.0, "vs": 5.5364},
  {"depth": 640.0, "vs": 5.5576},
  {"depth": 650.0, "vs": 5.5788},
  {"depth": 660.0, "vs": 5.6},
  {"depth": 660.0, "vs": 5.95},
  {"depth": 670.0, "vs": 5.9759},
  {"depth": 680.0, "vs": 6.0019},
  {"depth": 690.0, "vs": 6.0278},
  {"depth": 700.0, "vs": 6.0538},
  {"depth": 710.0, "vs": 6.0797},
  {"depth": 720.0, "vs": 6.1057},
  {"depth": 730.0, "vs": 6.1316},
  {"depth": 740.0, "vs": 6.1576},
  {"depth": 750.0, "vs": 6.1835},
  {"depth": 760.0, "vs": 6.2095},
  {"depth": 760.0, "vs": 6.2095},
  {"depth": 770.0, "vs": 6.2172},
  {"depth": 780.0, "vs": 6.2249},
  {"depth": 790.0, "vs": 6.2326},
  {"depth": 800.0, "vs": 6.2402},
  {"depth": 900.0, "vs": 6.3138},
  {"depth": 1000.0, "vs": 6.3833},
  {"depth": 1100.0, "vs": 6.4489},
  {"depth": 1200.0, "vs": 6.511},
  {"depth": 1300.0, "vs": 6.57},
  {"depth": 1400.0, "vs": 6.626},
  {"depth": 1500.0, "vs": 6.6796},
  {"depth": 2000.0, "vs": 6.921},
  {"depth": 2500.0, "vs": 7.1484},
  {"depth": 2700.0, "vs": 7.2445},
  {"depth": 2740.0, "vs": 7.2645},
  {"depth": 2740.0, "vs": 7.2645},
  {"depth": 2750.0, "vs": 7.267},
  {"depth": 2800.0, "vs": 7.2794},
  {"depth": 2850.0, "vs": 7.2918},
  {"depth": 2889.0, "vs": 7.3015},
  {"depth": 2889.0, "vs": 0.0},
  {"depth": 2900.0, "vs": 0.0},
  {"depth": 3000.0, "vs": 0.0},
  {"depth": 3100.0, "vs": 0.0},
  {"depth": 3200.0, "vs": 0.0},
  {"depth": 3300.0, "vs": 0.0},
  {"depth": 3400.0, "vs": 0.0},
  {"depth": 3500.0, "vs": 0.0},
  {"depth": 4000.0, "vs": 0.0},
  {"depth": 4500.0, "vs": 0.0},
  {"depth": 5153.9, "vs": 0.0},
  {"depth": 5153.9, "vs": 3.4385},
  {"depth": 5500.0, "vs": 3.5},
  {"depth": 6000.0, "vs": 3.5528},
  {"depth": 6371.0, "vs": 3.5645},
];

double interpolateVs(double depthKm) {
  for (int i = 0; i < iasp91VsTable.length - 1; i++) {
    final d1 = iasp91VsTable[i]["depth"]!;
    final d2 = iasp91VsTable[i + 1]["depth"]!;
    final vs1 = iasp91VsTable[i]["vs"]!;
    final vs2 = iasp91VsTable[i + 1]["vs"]!;

    if (depthKm >= d1 && depthKm <= d2) {
      double fraction = (depthKm - d1) / (d2 - d1);
      return vs1 + fraction * (vs2 - vs1);
    }
  }
  return iasp91VsTable.last["vs"]!;
}

double getIasp91STravelTime(double depthKm, double distanceKm) {
  double vs = interpolateVs(depthKm); // km/s
  return distanceKm / vs; // time in seconds
}
